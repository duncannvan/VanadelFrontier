shader_type canvas_item;

const float shake_strength = 2.0;
const float shake_speed = 10.0;

uniform bool shake = false;

void vertex() {
	vec2 output = vec2(0.0);

	if (shake && VERTEX.y < 0.0) {
		output.x = sin(TIME * shake_speed * VERTEX.y) * shake_strength;
	}

	VERTEX.xy += output;
}
